{% extends "base.html" %}

{% block head_css %}
<style>
	body {
		font-size: 90%;
		font-family: Verdana;
	}
	fieldset { margin-bottom: 1em; }
	label {
		font-weight: normal;
		font-size: 80%;
		width: 14ex;
	}
	#person_part label {
		float: left;
		display: block;
		line-height: 24px;
	}
	h1 {
		border-bottom: 1px solid #DFE2E1;
		margin-bottom: 1em;
		font-family: Georgia, Times New Roman, Serif;
		font-size: 200%;
		font-variant: small-caps;
		font-style: italic;
		font-weight: normal;
	}
	input[type="submit"] {
		padding: 5px 7px;
		font-weight: bold;
		font-size: 100%;
	}
	form ul { list-style: none; }
	#datepicker { margin-top: 2em; margin-bottom: 1em; }
	#footer {
		margin-top: 1em;
		border-top: 1px solid #DFE2E1;
		text-align: center;
		font-size: 75%;
	}
	#selectable-1 .ui-selecting { background: #FECA40; }
	#selectable-1 .ui-selected { background: #F39814; color: white; }
	#selectable-1 { list-style-type: none; margin: 0; padding: 0; width: 60%; }
	#selectable-1 li { margin: 3px; padding: 0.4em; font-size: 1.4em; height: 30px; }

	#selectable-2 .ui-selecting { background: #FECA40; }
	#selectable-2 .ui-selected { background: #F39814; color: white; }
	#selectable-2 { list-style-type: none; margin: 0; padding: 0; width: 60%; }
	#selectable-2 li { margin: 3px; padding: 0.4em; font-size: 1.4em; height: 30px; }
</style>
{% endblock %}


{% block page_container %}
<h1 class="grid_12">Rezervačný systém</h1>

<form class="grid_4" action="." method="post">
	<fieldset id="person_part">
		{% csrf_token %}
		{{ form.ident_hash.label_tag }}{{ form.ident_hash }}
		{{ form.first_name.label_tag }}{{ form.first_name }}
		{{ form.last_name.label_tag }}{{ form.last_name }}
		{{ form.phone_number.label_tag }}{{ form.phone_number }}
		{{ form.email.label_tag }}{{ form.email }}
	</fieldset>
	<fieldset id="visit_part">
		{{ form.reservation }}
		{{ form.exam_kind.label_tag }}{{ form.exam_kind }}
	</fieldset>
	<div id="datepicker"></div>
	<button type="submit">Rezervovať termín</button>
</form>

<div class="grid_8" id="datetime">
	<div id="tabs">
		<ul>
		{% for place in places %}
			<li><a href="#tabs-{{ place.id }}">{{ place.name }}</a></li>
		{% endfor %}
		</ul>
		{% for place in places %}
		<div id="tabs-{{ place.id }}">
			<h3>Deň: {% now "d.m.Y" %}</h3>
			<ol id="selectable-{{ place.id }}">
				{% for r in place.reservations %}
				<li class="ui-widget-content">{{ r.starting_time|date:"H:i" }}</li>
				{% endfor %}
			</ol>
		</div>
		{% endfor %}
	</div>
</div>

<div id="footer" class="grid_12">
	<a href="http://www.urologia-presov.sk/">Urologická ambulancia</a>, Doc. MUDr. Ivan Minčík, PhD.
</div>
{% endblock %}

{% block footer_js_page %}
<script>
$(function() {
        $.datepicker.regional['sk'] = {
                closeText: 'Zavrieť',
                prevText: '&#x3c;Predchádzajúci',
                nextText: 'Nasledujúci&#x3e;',
                currentText: 'Dnes',
                monthNames: ['Január','Február','Marec','Apríl','Máj','Jún',
                'Júl','August','September','Október','November','December'],
                monthNamesShort: ['Jan','Feb','Mar','Apr','Máj','Jún',
                'Júl','Aug','Sep','Okt','Nov','Dec'],
                dayNames: ['Nedel\'a','Pondelok','Utorok','Streda','Štvrtok','Piatok','Sobota'],
                dayNamesShort: ['Ned','Pon','Uto','Str','Štv','Pia','Sob'],
                dayNamesMin: ['Ne','Po','Ut','St','Št','Pia','So'],
                weekHeader: 'Ty',
                dateFormat: 'dd.mm.yy',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: ''};
        $.datepicker.setDefaults($.datepicker.regional['sk']);
	$("#datepicker").datepicker();
	$("#tabs").tabs();
	$("#selectable-1").selectable();
	$("#selectable-2").selectable();
});
</script>
{% endblock %}
